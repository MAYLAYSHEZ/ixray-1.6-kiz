#ifndef AGC_H
#define AGC_H
////////////////////////////////////////////////////////////////////////////////////
/// GLOBALS
////////////////////////////////////////////////////////////////////////////////////
uniform float4 pp_img_agc;
static const float3 CGL = (0.2125, 0.7154, 0.0721);
////////////////////////////////////////////////////////////////////////////////////
/// AGC
////////////////////////////////////////////////////////////////////////////////////
float3 AdvancedGammaControl(float3 img)
{
	// Apply Exposure (Brightness)
	img.xyz *= pp_img_agc.x;

	// Apply Saturation
	img.xyz = lerp(img.xyz, dot(img.xyz, CGL), (1.0 - pp_img_agc.z));

	// Apply Gamma
	img.xyz = pow(img, (1. / pp_img_agc.y));

	return img.xyz;
}
#endif
